<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨ºæ–­å±¥æ­´</title>
    <link rel="stylesheet" href="style.css"> <!-- å…±é€šCSS -->
    <script defer src="common/script.js"></script> <!-- å…±é€šJS -->
</head>
<body>
    <div class="container">
        <h1>è¨ºæ–­å±¥æ­´ ğŸ“</h1>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>æœ¬äºº</th>
                    <th>å¥½ããªäººã®åå‰</th>
                    <th>âŒ</th>
                </tr>
            </thead>
            <tbody id="names-table-body">
              <!-- ãƒ‡ãƒ¼ã‚¿ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã¾ã™ -->
          </tbody>
        </table>
        <button class="primary-btn" onclick="goBack()">è¨ºæ–­ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</button>
    </div>

    <script>
        const correctPassword = '1'; // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š

        function displayNames() {
            const names = JSON.parse(localStorage.getItem('names')) || [];
            const tableBody = document.getElementById('names-table-body');
            tableBody.innerHTML = '';

            names.forEach((entry, index) => {
                const row = `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${entry.myName}</td>
                        <td>${entry.favoritePerson}</td>
                        <td>
                            <button class="delete-btn" onclick="deleteName(${index})">å‰Šé™¤</button>
                        </td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function deleteName(index) {
            const enteredPassword = prompt('å‰Šé™¤ã™ã‚‹ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            if (enteredPassword === correctPassword) {
                let names = JSON.parse(localStorage.getItem('names')) || [];
                names.splice(index, 1); // æŒ‡å®šã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
                localStorage.setItem('names', JSON.stringify(names)); // æ›´æ–°
                alert('ãƒ‡ãƒ¼ã‚¿ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚');
                displayNames(); // å†æç”»
            } else {
                alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚å‰Šé™¤ã§ãã¾ã›ã‚“ã€‚');
            }
        }

        function goBack() {
            // è¨ºæ–­ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
            window.location.href = 'index.html';
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
        window.onload = displayNames;
    </script>


</body>
</html>